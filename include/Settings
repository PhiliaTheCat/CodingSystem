#ifndef __INCLUDE_SETTINGS__
#define __INCLUDE_SETTINGS__

#include <fstream>
#include <limits>

struct GlobalSettings
{
public:
    int max_key; // Maximum key length
    int max_str; // Maximum string length
    int logs_sequence; // Sequence when display logs

private:
    GlobalSettings() = default;

public:
    GlobalSettings(const GlobalSettings &) = delete;
    GlobalSettings(GlobalSettings &&) = delete;

    GlobalSettings &operator =(const GlobalSettings &) = delete;
    GlobalSettings &operator =(GlobalSettings &&) = delete;

    static GlobalSettings &getGlobal()
    {
        static GlobalSettings instance;

        return instance;
    }
};

inline GlobalSettings &global = GlobalSettings::getGlobal();

// Provide pre-settings before execution
inline void preset()
{
    std::ifstream fin;
    fin.open("./settings/presettings.txt");
    fin >> global.max_key >> global.max_str >> global.logs_sequence;
    fin.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
    fin.close();
}

#endif
